(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

const main = () => {
  let userName = 'user #0'; //document.getElementById('roomPostfix').innerText = randRoomPostfix;

  document.getElementById('userName').innerText = userName;
  var container = document.getElementById("jsoneditor");
  var editor = new JSONEditor(container, {});

  document.getElementById('btn1').onclick = () => {
    editor.set({
      txType: "gasTransfer",
      fromUserName: userName,
      toUserName: "user #0",
      amt: 15
    });
  };

  document.getElementById('btn2').onclick = () => {
    editor.set({
      txType: "newNodeJoinNeedRa",
      userName,
      depositAmt: 10,
      ipfsPeerId: "Will Be Added Automatically"
    });
  };

  document.getElementById('btn3').onclick = () => {
    editor.set({
      txType: 'setProofOfTrustForThisNode',
      psrData: 'placeholder',
      isHacked: true,
      tpmPublicKey: 'placeholder'
    });
  };

  document.getElementById('btn4').onclick = () => {
    editor.set({
      txType: "uploadLambda",
      lambdaName: "hello_world",
      dockerImg: "placeholder",
      payment: "payPerUse",
      ownerName: userName,
      amt: 2
    });
  };

  document.getElementById('btn5').onclick = () => {
    editor.set({
      txType: "computeTask",
      userName,
      lambdaCid: "PLEASE_REPLACE_THIS_VALUE_TO_THE_lambdaCid_YOU_GOT_FROM_PREVIOUS_uploadLambda_TASK",
      postSecData: 'placeholder',
      env: {
        network: 'totalIsolated',
        ipAllowed: 'none',
        p2pTrafficInAllowed: 'owner',
        resultSendBackTo: 'owner',
        errorSendBackTo: 'owner',
        osRequirement: "none",
        timeOut: '100',
        cleanUpAfter: 'totalWipeout'
      },
      executorRequirement: {
        credit: 3,
        deposit: 10
      },
      multiParties: 'none',
      depositAmt: 3
    });
  };

  document.getElementById('selectUser').onchange = () => {
    userName = document.getElementById('selectUser').value;
    document.getElementById('userName').innerHTML = userName;
  };

  document.getElementById('sendAction').onclick = async () => {
    //const userName = document.getElementById('userName').innerHTML;
    document.getElementById('initiatorResponse').innerHTML = "";
    document.getElementById('initiatorError').innerHTML = "";
    console.log("ready to send action,", JSON.stringify(editor.get(), null, 2));
    const jsonObj = editor.get();
    const warpper = {
      initiatorUserName: userName,
      action: jsonObj
    };
    const url = 'http://' + window.location.host + '/poc/action';
    console.log('url:', url);
    const response = await fetch(url, {
      method: 'POST',
      // *GET, POST, PUT, DELETE, etc.
      mode: 'same-origin',
      // no-cors, cors, *same-origin
      cache: 'no-cache',
      // *default, no-cache, reload, force-cache, only-if-cached
      credentials: 'same-origin',
      // include, *same-origin, omit
      headers: {
        'Content-Type': 'application/json' // 'Content-Type': 'application/x-www-form-urlencoded',

      },
      redirect: 'follow',
      // manual, *follow, error
      referrer: 'no-referrer',
      // no-referrer, *client
      body: JSON.stringify(warpper) // body data type must match "Content-Type" header

    });

    if (response.ok) {
      const result = await response.blob();
      document.getElementById('initiatorResponse').innerHTML = result;
    } else {
      document.getElementById('initiatorError').innerHTML = response.blob();
    }
  };

  document.getElementById('sendToTaskRoomDebug').onclick = async () => {
    const jsonObj = editor.get();
    const url = 'http://' + window.location.host + '/poc/debug';
    console.log('url:', url);
    const response = await fetch(url, {
      method: 'POST',
      // *GET, POST, PUT, DELETE, etc.
      mode: 'same-origin',
      // no-cors, cors, *same-origin
      cache: 'no-cache',
      // *default, no-cache, reload, force-cache, only-if-cached
      credentials: 'same-origin',
      // include, *same-origin, omit
      headers: {
        'Content-Type': 'application/json' // 'Content-Type': 'application/x-www-form-urlencoded',

      },
      redirect: 'follow',
      // manual, *follow, error
      referrer: 'no-referrer',
      // no-referrer, *client
      body: JSON.stringify(jsonObj) // body data type must match "Content-Type" header

    });

    if (response.ok) {
      const result = await response.blob();
      document.getElementById('initiatorResponse').innerHTML = result;
    } else {
      document.getElementById('initiatorError').innerHTML = response.blob();
    }
  };

  document.getElementById('showPeerMgr').onclick = () => {
    editor.set({
      txType: "debug_showPeerMgr"
    });
  };
};

document.addEventListener('DOMContentLoaded', main);

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJ3ZWJTcmMvc2ltdWxhdG9yLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNDQSxNQUFNLElBQUksR0FBRyxNQUFJO0FBQ2YsTUFBSSxRQUFRLEdBQUcsU0FBZixDQURlLENBRWY7O0FBQ0EsRUFBQSxRQUFRLENBQUMsY0FBVCxDQUF3QixVQUF4QixFQUFvQyxTQUFwQyxHQUFnRCxRQUFoRDtBQUdBLE1BQUksU0FBUyxHQUFHLFFBQVEsQ0FBQyxjQUFULENBQXdCLFlBQXhCLENBQWhCO0FBQ0EsTUFBSSxNQUFNLEdBQUcsSUFBSSxVQUFKLENBQWUsU0FBZixFQUEwQixFQUExQixDQUFiOztBQUVBLEVBQUEsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsTUFBeEIsRUFBZ0MsT0FBaEMsR0FBMEMsTUFBSTtBQUM1QyxJQUFBLE1BQU0sQ0FBQyxHQUFQLENBQVc7QUFDVCxNQUFBLE1BQU0sRUFBQyxhQURFO0FBRVQsTUFBQSxZQUFZLEVBQUUsUUFGTDtBQUdULE1BQUEsVUFBVSxFQUFDLFNBSEY7QUFJVCxNQUFBLEdBQUcsRUFBQztBQUpLLEtBQVg7QUFNRCxHQVBEOztBQVFBLEVBQUEsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsTUFBeEIsRUFBZ0MsT0FBaEMsR0FBMEMsTUFBSTtBQUM1QyxJQUFBLE1BQU0sQ0FBQyxHQUFQLENBQVc7QUFDVCxNQUFBLE1BQU0sRUFBQyxtQkFERTtBQUVULE1BQUEsUUFGUztBQUdULE1BQUEsVUFBVSxFQUFDLEVBSEY7QUFJVCxNQUFBLFVBQVUsRUFBQztBQUpGLEtBQVg7QUFNRCxHQVBEOztBQVFBLEVBQUEsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsTUFBeEIsRUFBZ0MsT0FBaEMsR0FBMEMsTUFBSTtBQUM1QyxJQUFBLE1BQU0sQ0FBQyxHQUFQLENBQVc7QUFDVCxNQUFBLE1BQU0sRUFBQyw0QkFERTtBQUVULE1BQUEsT0FBTyxFQUFDLGFBRkM7QUFH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WjtBQUNwQixNQUFBLFFBQVEsRUFBRSxhQVZzQjtBQVVQO0FBQ3pCLE1BQUEsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFMLENBQWUsT0FBZixDQVgwQixDQVdEOztBQVhDLEtBQU4sQ0FBNUI7O0FBY0EsUUFBRyxRQUFRLENBQUMsRUFBWixFQUFnQjtBQUNkLFlBQU0sTUFBTSxHQUFHLE1BQU0sUUFBUSxDQUFDLElBQVQsRUFBckI7QUFFQSxNQUFBLFFBQVEsQ0FBQyxjQUFULENBQXdCLG1CQUF4QixFQUE2QyxTQUE3QyxHQUF5RCxNQUF6RDtBQUNELEtBSkQsTUFLSTtBQUNGLE1BQUEsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsZ0JBQXhCLEVBQTBDLFNBQTFDLEdBQXNELFFBQVEsQ0FBQyxJQUFULEVBQXREO0FBQ0Q7QUFFRixHQTNCRDs7QUE0QkEsRUFBQSxRQUFRLENBQUMsY0FBVCxDQUF3QixhQUF4QixFQUF1QyxPQUF2QyxHQUFpRCxNQUFJO0FBQ25ELElBQUEsTUFBTSxDQUFDLEdBQVAsQ0FBVztBQUNULE1BQUEsTUFBTSxFQUFDO0FBREUsS0FBWDtBQUlELEdBTEQ7QUFNRCxDQWxKRDs7QUFtSkEsUUFBUSxDQUFDLGdCQUFULENBQTBCLGtCQUExQixFQUE4QyxJQUE5QyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIlxuY29uc3QgbWFpbiA9ICgpPT57XG4gIGxldCB1c2VyTmFtZSA9ICd1c2VyICMwJztcbiAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vbVBvc3RmaXgnKS5pbm5lclRleHQgPSByYW5kUm9vbVBvc3RmaXg7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyTmFtZScpLmlubmVyVGV4dCA9IHVzZXJOYW1lO1xuICBcbiAgXG4gIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImpzb25lZGl0b3JcIik7XG4gIHZhciBlZGl0b3IgPSBuZXcgSlNPTkVkaXRvcihjb250YWluZXIsIHt9KTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuMScpLm9uY2xpY2sgPSAoKT0+e1xuICAgIGVkaXRvci5zZXQoe1xuICAgICAgdHhUeXBlOlwiZ2FzVHJhbnNmZXJcIixcbiAgICAgIGZyb21Vc2VyTmFtZTogdXNlck5hbWUsXG4gICAgICB0b1VzZXJOYW1lOlwidXNlciAjMFwiLCBcbiAgICAgIGFtdDoxNVxuICAgIH0pXG4gIH1cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bjInKS5vbmNsaWNrID0gKCk9PntcbiAgICBlZGl0b3Iuc2V0KHtcbiAgICAgIHR4VHlwZTpcIm5ld05vZGVKb2luTmVlZFJhXCIsXG4gICAgICB1c2VyTmFtZSxcbiAgICAgIGRlcG9zaXRBbXQ6MTAsXG4gICAgICBpcGZzUGVlcklkOlwiV2lsbCBCZSBBZGRlZCBBdXRvbWF0aWNhbGx5XCJcbiAgICB9KVxuICB9O1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuMycpLm9uY2xpY2sgPSAoKT0+e1xuICAgIGVkaXRvci5zZXQoe1xuICAgICAgdHhUeXBlOidzZXRQcm9vZk9mVHJ1c3RGb3JUaGlzTm9kZScsXG4gICAgICBwc3JEYXRhOidwbGFjZWhvbGRlcicsXG4gICAgICBpc0hhY2tlZDp0cnVlLFxuICAgICAgdHBtUHVibGljS2V5OidwbGFjZWhvbGRlcidcbiAgICB9KVxuICB9O1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuNCcpLm9uY2xpY2sgPSAoKT0+e1xuICAgIGVkaXRvci5zZXQoe1xuICAgICAgdHhUeXBlOlwidXBsb2FkTGFtYmRhXCIsXG4gICAgICBsYW1iZGFOYW1lOlwiaGVsbG9fd29ybGRcIixcbiAgICAgIGRvY2tlckltZzpcInBsYWNlaG9sZGVyXCIsXG4gICAgICBwYXltZW50OlwicGF5UGVyVXNlXCIsXG4gICAgICBvd25lck5hbWU6dXNlck5hbWUsXG4gICAgICBhbXQ6MlxuICAgIH0pO1xuICB9O1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuNScpLm9uY2xpY2sgPSAoKT0+e1xuICAgIGVkaXRvci5zZXQoe1xuICAgICAgdHhUeXBlOlwiY29tcHV0ZVRhc2tcIixcbiAgICAgIHVzZXJOYW1lLFxuICAgICAgbGFtYmRhQ2lkOlwiUExFQVNFX1JFUExBQ0VfVEhJU19WQUxVRV9UT19USEVfbGFtYmRhQ2lkX1lPVV9HT1RfRlJPTV9QUkVWSU9VU191cGxvYWRMYW1iZGFfVEFTS1wiLFxuICAgICAgcG9zdFNlY0RhdGE6J3BsYWNlaG9sZGVyJyxcbiAgICAgIGVudjp7XG4gICAgICAgIG5ldHdvcms6J3RvdGFsSXNvbGF0ZWQnLFxuICAgICAgICBpcEFsbG93ZWQ6J25vbmUnLFxuICAgICAgICBwMnBUcmFmZmljSW5BbGxvd2VkOidvd25lcicsXG4gICAgICAgIHJlc3VsdFNlbmRCYWNrVG86J293bmVyJyxcbiAgICAgICAgZXJyb3JTZW5kQmFja1RvOidvd25lcicsXG4gICAgICAgIG9zUmVxdWlyZW1lbnQ6XCJub25lXCIsXG4gICAgICAgIHRpbWVPdXQ6JzEwMCcsXG4gICAgICAgIGNsZWFuVXBBZnRlcjondG90YWxXaXBlb3V0J1xuICAgICAgfSxcbiAgICAgIGV4ZWN1dG9yUmVxdWlyZW1lbnQ6e1xuICAgICAgICBjcmVkaXQ6MyxcbiAgICAgICAgZGVwb3NpdDoxMFxuXG4gICAgICB9LFxuICAgICAgbXVsdGlQYXJ0aWVzOidub25lJyxcbiAgICAgIGRlcG9zaXRBbXQ6M1xuICAgIH0pO1xuXG4gIH07XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlY3RVc2VyJykub25jaGFuZ2UgPSAoKT0+e1xuICAgIHVzZXJOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdFVzZXInKS52YWx1ZTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlck5hbWUnKS5pbm5lckhUTUwgPSB1c2VyTmFtZTsgXG4gIH1cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbmRBY3Rpb24nKS5vbmNsaWNrID0gYXN5bmMgKCk9PntcbiAgICAvL2NvbnN0IHVzZXJOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJOYW1lJykuaW5uZXJIVE1MO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbml0aWF0b3JSZXNwb25zZScpLmlubmVySFRNTCA9IFwiXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luaXRpYXRvckVycm9yJykuaW5uZXJIVE1MID0gXCJcIjtcblxuICAgIGNvbnNvbGUubG9nKFwicmVhZHkgdG8gc2VuZCBhY3Rpb24sXCIsSlNPTi5zdHJpbmdpZnkoZWRpdG9yLmdldCgpLCBudWxsLCAyKSk7XG4gICAgY29uc3QganNvbk9iaiA9IGVkaXRvci5nZXQoKTtcbiAgICBjb25zdCB3YXJwcGVyID0ge1xuICAgICAgaW5pdGlhdG9yVXNlck5hbWU6IHVzZXJOYW1lLFxuICAgICAgYWN0aW9uOmpzb25PYmpcbiAgICB9XG4gICAgY29uc3QgdXJsID0gJ2h0dHA6Ly8nICsgd2luZG93LmxvY2F0aW9uLmhvc3QgKyAnL3BvYy9hY3Rpb24nO1xuICAgIGNvbnNvbGUubG9nKCd1cmw6JywgdXJsKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsIC8vICpHRVQsIFBPU1QsIFBVVCwgREVMRVRFLCBldGMuXG4gICAgICBtb2RlOiAnc2FtZS1vcmlnaW4nLCAvLyBuby1jb3JzLCBjb3JzLCAqc2FtZS1vcmlnaW5cbiAgICAgIGNhY2hlOiAnbm8tY2FjaGUnLCAvLyAqZGVmYXVsdCwgbm8tY2FjaGUsIHJlbG9hZCwgZm9yY2UtY2FjaGUsIG9ubHktaWYtY2FjaGVkXG4gICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJywgLy8gaW5jbHVkZSwgKnNhbWUtb3JpZ2luLCBvbWl0XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAvLyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG4gICAgICB9LFxuICAgICAgcmVkaXJlY3Q6ICdmb2xsb3cnLCAvLyBtYW51YWwsICpmb2xsb3csIGVycm9yXG4gICAgICByZWZlcnJlcjogJ25vLXJlZmVycmVyJywgLy8gbm8tcmVmZXJyZXIsICpjbGllbnRcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHdhcnBwZXIpLCAvLyBib2R5IGRhdGEgdHlwZSBtdXN0IG1hdGNoIFwiQ29udGVudC1UeXBlXCIgaGVhZGVyXG4gICAgfSk7XG4gICAgXG4gICAgaWYocmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKVxuICAgIFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luaXRpYXRvclJlc3BvbnNlJykuaW5uZXJIVE1MID0gcmVzdWx0O1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luaXRpYXRvckVycm9yJykuaW5uZXJIVE1MID0gcmVzcG9uc2UuYmxvYigpO1xuICAgIH1cblxuICAgIFxuICB9O1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZW5kVG9UYXNrUm9vbURlYnVnJykub25jbGljayA9IGFzeW5jICgpPT57XG4gICAgY29uc3QganNvbk9iaiA9IGVkaXRvci5nZXQoKTtcbiAgICBjb25zdCB1cmwgPSAnaHR0cDovLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdCArICcvcG9jL2RlYnVnJztcbiAgICBjb25zb2xlLmxvZygndXJsOicsIHVybCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLCAvLyAqR0VULCBQT1NULCBQVVQsIERFTEVURSwgZXRjLlxuICAgICAgbW9kZTogJ3NhbWUtb3JpZ2luJywgLy8gbm8tY29ycywgY29ycywgKnNhbWUtb3JpZ2luXG4gICAgICBjYWNoZTogJ25vLWNhY2hlJywgLy8gKmRlZmF1bHQsIG5vLWNhY2hlLCByZWxvYWQsIGZvcmNlLWNhY2hlLCBvbmx5LWlmLWNhY2hlZFxuICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsIC8vIGluY2x1ZGUsICpzYW1lLW9yaWdpbiwgb21pdFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgLy8gJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICAgICAgfSxcbiAgICAgIHJlZGlyZWN0OiAnZm9sbG93JywgLy8gbWFudWFsLCAqZm9sbG93LCBlcnJvclxuICAgICAgcmVmZXJyZXI6ICduby1yZWZlcnJlcicsIC8vIG5vLXJlZmVycmVyLCAqY2xpZW50XG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShqc29uT2JqKSwgLy8gYm9keSBkYXRhIHR5cGUgbXVzdCBtYXRjaCBcIkNvbnRlbnQtVHlwZVwiIGhlYWRlclxuICAgIH0pO1xuICAgIFxuICAgIGlmKHJlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5pdGlhdG9yUmVzcG9uc2UnKS5pbm5lckhUTUwgPSByZXN1bHQ7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5pdGlhdG9yRXJyb3InKS5pbm5lckhUTUwgPSByZXNwb25zZS5ibG9iKCk7XG4gICAgfVxuXG4gIH1cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob3dQZWVyTWdyJykub25jbGljayA9ICgpPT57XG4gICAgZWRpdG9yLnNldCh7XG4gICAgICB0eFR5cGU6XCJkZWJ1Z19zaG93UGVlck1nclwiXG4gICAgICBcbiAgICB9KVxuICB9O1xufTtcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBtYWluKTtcblxuXG5cbiAgIl19
